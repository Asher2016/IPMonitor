
@{
    ViewBag.Title = "Index";
}

<style>
    .status {
        background: url("/Frontend/jpg/status.png");
        width: 20px;
        height: 20px;
        display: inline;
        position: absolute;
        background-size: cover;
        background-position: 58px;
    }

    .Green {
        background-position: 0px;
    }

    .Yellow {
        background-position: 39px;
    }

    .Red {
        background-position: 20px;
    }

    #PianGuan {
        top: -171px;
        left: 277px;
    }

    #HeQu {
        top: -74px;
        left: 205px;
    }

    #Wuzhai {
        top: -21px;
        left: 297px;
    }

    #BaoDe {
        top: 35px;
        left: 150px;
    }

    #ShenChi {
        top: -62px;
        left: 376px;
    }

    #KeLan {
        top: 83px;
        left: 243px;
    }

    #NingWu {
        top: 58px;
        left: 414px;
    }

    #JingLe {
        top: 212px;
        left: 388px;
    }

    #YuanPing {
        top: 41px;
        left: 538px;
    }

    #XiFu {
        top: 191px;
        left: 534px;
    }

    #Dai {
        top: -39px;
        left: 641px;
    }

    #WuTai {
        top: 71px;
        left: 750px;
    }

    #DingXiang {
        top: 168px;
        left: 647px;
    }

    #FanZhi {
        top: -86px;
        left: 790px;
    }
</style>
<script>
    var ChangeStatus = function (id, status)
    {
        $('#' + id).removeClass('Red');
        $('#' + id).removeClass('Green');
        $('#' + id).removeClass('Yellow');

        $('#' + id).addClass(status);
    }

    var LoadStatus = function ()
    {
        $.ajax({
            type: "POST",
            url: "/IPMonitor/GetAllRegionStatus",
            dataType: "json",
            success: function (data) {
                RefreshStatus();
                $.each(data, function (index)
                {
                    ChangeStatus(data[index].Location, data[index].Status);
                })
            }
        });
    }

    var RefreshStatus = function()
    {
        $.each($('.status'), function (index) {
            $($('.status')[index]).removeClass('Red');
            $($('.status')[index]).removeClass('Green');
            $($('.status')[index]).removeClass('Yellow');
            $($('.status')[index]).addClass('Green');
        });
    }

    $(document).ready()
    {
        setInterval(LoadStatus, 5000);
    }
</script>
<div class="text-center" style="background-color: #2592bd; height: 700px;">
    <div style=" width: 100%; height: 100%; display: inline; position: relative;">
        <div id="PianGuan" class="status"></div>
        <div id="HeQu" class="status"></div>
        <div id="Wuzhai" class="status"></div>
        <div id="BaoDe" class="status"></div>
        <div id="ShenChi" class="status"></div>
        <div id="KeLan" class="status"></div>
        <div id="NingWu" class="status"></div>
        <div id="JingLe" class="status"></div>
        <div id="YuanPing" class="status"></div>
        <div id="XiFu" class="status"></div>
        <div id="Dai" class="status"></div>
        <div id="WuTai" class="status"></div>
        <div id="DingXiang" class="status"></div>
        <div id="FanZhi" class="status"></div>
        <img style="height: 600px; width: 1000px; margin-top: 25px;" src="@Url.Content("~/Frontend/jpg/bg.png")" />
    </div>
</div>

